<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Sistema Caixa Academia</title>

<style>
:root {
  --verde:#00e676;
  --vermelho:#ff5252;
  --card:#1c1c1c;
  --bg:#0f0f0f;
}
body {
  margin:0;
  font-family:Arial;
  background:var(--bg);
  color:#fff;
}
header {
  background:#000;
  padding:15px;
  text-align:center;
  border-bottom:2px solid var(--verde);
}
.container {
  max-width:1200px;
  margin:auto;
  padding:20px;
}
h2 { color:var(--verde); }
.card {
  background:var(--card);
  padding:15px;
  border-radius:10px;
  margin-bottom:20px;
}
input, select {
  width:100%;
  padding:10px;
  margin-top:8px;
  border:none;
  border-radius:6px;
}
button {
  width:100%;
  padding:10px;
  margin-top:10px;
  border:none;
  border-radius:6px;
  font-weight:bold;
  cursor:pointer;
  background:var(--verde);
}
table {
  width:100%;
  border-collapse:collapse;
}
th,td {
  padding:8px;
  text-align:center;
}
.status-ok { color:var(--verde); }
.status-atraso { color:var(--vermelho); }
</style>
</head>

<body>

<header>
<h1>ðŸ’ª Caixa Academia</h1>
</header>

<div class="container">

<!-- CAIXA -->
<div class="card">
<h2>ðŸ“Š Caixa</h2>
<p>Entradas: R$ <span id="entradas">0</span></p>
<p>SaÃ­das: R$ <span id="saidas">0</span></p>
<hr>
<p><strong>Saldo: R$ <span id="saldo">0</span></strong></p>
</div>

<!-- ENTRADA MANUAL -->
<div class="card">
<h2>âž• Entrada Manual</h2>
<input id="descEntrada" placeholder="DescriÃ§Ã£o (ex: diÃ¡ria, produto)">
<input id="valorEntrada" type="number" placeholder="Valor (R$)">
<button onclick="entradaManual()">Adicionar Entrada</button>
</div>

<!-- SAÃDA -->
<div class="card">
<h2>âž– SaÃ­da</h2>
<input id="descSaida" placeholder="DescriÃ§Ã£o da despesa">
<input id="valorSaida" type="number" placeholder="Valor (R$)">
<button onclick="saida()">Adicionar SaÃ­da</button>
</div>

<!-- CADASTRO ALUNO -->
<div class="card">
<h2>ðŸ‘¤ Cadastrar Aluno</h2>
<input id="nomeAluno" placeholder="Nome">
<input id="mensalidade" type="number" placeholder="Mensalidade">
<input id="vencimento" type="date">
<button onclick="cadastrarAluno()">Cadastrar</button>
</div>

<!-- LISTA -->
<div class="card">
<h2>ðŸ“‹ Alunos</h2>
<table>
<thead>
<tr>
<th>Nome</th>
<th>Mensalidade</th>
<th>Vencimento</th>
<th>Status</th>
<th>AÃ§Ã£o</th>
</tr>
</thead>
<tbody id="lista"></tbody>
</table>
</div>

</div>

<script>
let alunos = JSON.parse(localStorage.getItem("alunos")) || [];
let entradas = Number(localStorage.getItem("entradas")) || 0;
let saidas = Number(localStorage.getItem("saidas")) || 0;

atualizar();

/* ===== CAIXA ===== */
function entradaManual() {
  const valor = Number(valorEntrada.value);
  if (valor <= 0) return;
  entradas += valor;
  salvar();
  atualizar();
  valorEntrada.value = "";
}

function saida() {
  const valor = Number(valorSaida.value);
  if (valor <= 0) return;
  saidas += valor;
  salvar();
  atualizar();
  valorSaida.value = "";
}

/* ===== ALUNOS ===== */
function cadastrarAluno() {
  if (!nomeAluno.value || !mensalidade.value || !vencimento.value) return;
  alunos.push({
    nome: nomeAluno.value,
    mensalidade: Number(mensalidade.value),
    vencimento: vencimento.value
  });
  salvar();
  atualizar();
  nomeAluno.value = mensalidade.value = vencimento.value = "";
}

function receber(i) {
  entradas += alunos[i].mensalidade;
  const data = new Date(alunos[i].vencimento);
  data.setDate(data.getDate() + 30);
  alunos[i].vencimento = data.toISOString().split("T")[0];
  salvar();
  atualizar();
}

/* ===== ATUALIZAR ===== */
function atualizar() {
  const hoje = new Date().toISOString().split("T")[0];
  lista.innerHTML = "";

  alunos.forEach((a,i)=>{
    const atraso = a.vencimento < hoje;
    lista.innerHTML += `
    <tr>
      <td>${a.nome}</td>
      <td>R$ ${a.mensalidade.toFixed(2)}</td>
      <td>${a.vencimento}</td>
      <td class="${atraso?'status-atraso':'status-ok'}">
        ${atraso?'Atraso':'Em dia'}
      </td>
      <td><button onclick="receber(${i})">Receber</button></td>
    </tr>`;
  });

  entradasSpan.innerText = entradas.toFixed(2);
  saidasSpan.innerText = saidas.toFixed(2);
  saldoSpan.innerText = (entradas - saidas).toFixed(2);
}

function salvar() {
  localStorage.setItem("alunos", JSON.stringify(alunos));
  localStorage.setItem("entradas", entradas);
  localStorage.setItem("saidas", saidas);
}

const entradasSpan = document.getElementById("entradas");
const saidasSpan = document.getElementById("saidas");
const saldoSpan = document.getElementById("saldo");
</script>

</body>
</html>
